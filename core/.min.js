EJS.Helpers.prototype.date_tag=function(a,b,c){b instanceof Date||(b=new Date);var d=["January","February","March","April","May","June","July","August","September","October","November","December"],e=[],f=[],g=[],h=b.getFullYear(),i=b.getMonth(),j=b.getDate();for(var k=h-15;k<h+15;k++)e.push({value:k,text:k});for(var l=0;l<12;l++)f.push({value:l,text:d[l]});for(var m=0;m<31;m++)g.push({value:m+1,text:m+1});var n=this.select_tag(a+"[year]",h,e,{id:a+"[year]"}),o=this.select_tag(a+"[month]",i,f,{id:a+"[month]"}),p=this.select_tag(a+"[day]",j,g,{id:a+"[day]"});return n+o+p},EJS.Helpers.prototype.form_tag=function(a,b){return b=b||{},b.action=a,b.multipart==1&&(b.method="post",b.enctype="multipart/form-data"),this.start_tag_for("form",b)},EJS.Helpers.prototype.form_tag_end=function(){return this.tag_end("form")},EJS.Helpers.prototype.hidden_field_tag=function(a,b,c){return this.input_field_tag(a,b,"hidden",c)},EJS.Helpers.prototype.input_field_tag=function(a,b,c,d){return d=d||{},d.id=d.id||a,d.value=b||"",d.type=c||"text",d.name=a,this.single_tag_for("input",d)},EJS.Helpers.prototype.is_current_page=function(a){return window.location.href==a||window.location.pathname==a?!0:!1},EJS.Helpers.prototype.link_to=function(a,b,c){if(!a)var a="null";if(!c)var c={};return c.confirm&&(c.onclick=' var ret_confirm = confirm("'+c.confirm+'"); if(!ret_confirm){ return false;} ',c.confirm=null),c.href=b,this.start_tag_for("a",c)+a+this.tag_end("a")},EJS.Helpers.prototype.submit_link_to=function(a,b,c){if(!a)var a="null";if(!c)var c={};return c.onclick=c.onclick||"",c.confirm&&(c.onclick=' var ret_confirm = confirm("'+c.confirm+'"); if(!ret_confirm){ return false;} ',c.confirm=null),c.value=a,c.type="submit",c.onclick=c.onclick+(b?this.url_for(b):"")+"return false;",this.start_tag_for("input",c)},EJS.Helpers.prototype.link_to_if=function(a,b,c,d,e,f){return this.link_to_unless(a==0,b,c,d,e,f)},EJS.Helpers.prototype.link_to_unless=function(a,b,c,d,e){return d=d||{},a?e&&typeof e=="function"?e(b,c,d,e):b:this.link_to(b,c,d)},EJS.Helpers.prototype.link_to_unless_current=function(a,b,c,d){return c=c||{},this.link_to_unless(this.is_current_page(b),a,b,c,d)},EJS.Helpers.prototype.password_field_tag=function(a,b,c){return this.input_field_tag(a,b,"password",c)},EJS.Helpers.prototype.select_tag=function(a,b,c,d){d=d||{},d.id=d.id||a,d.value=b,d.name=a;var e="";e+=this.start_tag_for("select",d);for(var f=0;f<c.length;f++){var g=c[f],h={value:g.value};g.value==b&&(h.selected="selected"),e+=this.start_tag_for("option",h)+g.text+this.tag_end("option")}return e+=this.tag_end("select"),e},EJS.Helpers.prototype.single_tag_for=function(a,b){return this.tag(a,b,"/>")},EJS.Helpers.prototype.start_tag_for=function(a,b){return this.tag(a,b)},EJS.Helpers.prototype.submit_tag=function(a,b){return b=b||{},b.type=b.type||"submit",b.value=a||"Submit",this.single_tag_for("input",b)},EJS.Helpers.prototype.tag=function(a,b,c){if(!c)var c=">";var d=" ";for(var e in b){if(b[e]!=null)var f=b[e].toString();else var f="";e=="Class"&&(e="class"),f.indexOf("'")!=-1?d+=e+'="'+f+'" ':d+=e+"='"+f+"' "}return"<"+a+d+c},EJS.Helpers.prototype.tag_end=function(a){return"</"+a+">"},EJS.Helpers.prototype.text_area_tag=function(a,b,c){return c=c||{},c.id=c.id||a,c.name=c.name||a,b=b||"",c.size&&(c.cols=c.size.split("x")[0],c.rows=c.size.split("x")[1],delete c.size),c.cols=c.cols||50,c.rows=c.rows||4,this.start_tag_for("textarea",c)+b+this.tag_end("textarea")},EJS.Helpers.prototype.text_tag=EJS.Helpers.prototype.text_area_tag,EJS.Helpers.prototype.text_field_tag=function(a,b,c){return this.input_field_tag(a,b,"text",c)},EJS.Helpers.prototype.url_for=function(a){return'window.location="'+a+'";'},EJS.Helpers.prototype.img_tag=function(a,b,c){return c=c||{},c.src=a,c.alt=b,this.single_tag_for("img",c)}